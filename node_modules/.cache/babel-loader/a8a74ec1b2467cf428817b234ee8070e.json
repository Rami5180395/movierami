{"ast":null,"code":"var _jsxFileName = \"/home/rami/Desktop/ramirezmovie/React-Movie-App/src/components/Home/Home.js\";\nimport React, { Component } from 'react';\nimport { BASE_URL, API_KEY, BASE_IMG } from '../../config';\nimport ImageFrame from '../elements/ImageFrame/ImageFrame';\nimport Spinner from '../elements/Spinner/Spinner';\nimport LoadMoreBtn from '../elements/LoadMore/LoadMoreBtn';\nimport SearchBar from '../elements/SearchBar/SearchBar';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport no_img from '../elements/img/no_image.jpg';\nimport PageTitle from '../elements/PageTitle/PageTitle';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: [],\n      currentPage: 0,\n      totalPage: 0,\n      loading: false,\n      // Loading Effect\n      searchWord: \"\"\n    };\n\n    this.searchMovies = searchWord => {\n      // This function trigger the Get Request Function\n      let endPoint = \"\";\n      this.setState({\n        movies: [],\n        searchWord,\n        loading: true\n      });\n\n      if (this.state.searchWord === \"\") {\n        endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=1`;\n      } else {\n        endPoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${this.state.searchWord}`;\n      }\n\n      this.getRequest(endPoint);\n    };\n\n    this.loadMoreMovies = () => {\n      let endPoint = \"\";\n      this.setState({\n        loading: true\n      });\n\n      if (this.state.searchWord === \"\") {\n        endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=${this.state.currentPage + 1}`;\n      } else {\n        endPoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${this.state.searchWord}&page=${this.state.currentPage + 1}`;\n      }\n\n      this.getRequest(endPoint);\n    };\n\n    this.getRequest = endPoint => {\n      fetch(endPoint).then(response => response.json()).then(data => {\n        // console.log(data);\n        this.setState({\n          movies: [...this.state.movies, ...data.results],\n          currentPage: data.page,\n          totalPage: data.total_pages,\n          loading: false\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=1`;\n    this.getRequest(endPoint);\n    this.setState({\n      loading: true\n    });\n  }\n\n  render() {\n    const {\n      searchWord,\n      movies,\n      loading,\n      currentPage,\n      totalPage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBar, {\n      callback: this.searchMovies,\n      placeHolder: \"L\\xFCtfen Arad\\u0131\\u011F\\u0131n\\u0131z Filmin Ad\\u0131n\\u0131 Yaz\\u0131n\\u0131z..\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 6,\n      className: \"offset-sm-3 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, searchWord ? /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 43\n      }\n    }, searchWord, \" i\\xE7in bulunan sonu\\xE7lar \") : /*#__PURE__*/React.createElement(PageTitle, {\n      title: \"pop\\xFCler filmler\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 91\n      }\n    }))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, movies.map(movie => {\n      return /*#__PURE__*/React.createElement(ImageFrame, {\n        key: movie.id,\n        image: movie.poster_path ? `${BASE_IMG}${movie.poster_path}` : `${no_img}`,\n        clickable: true,\n        movieId: movie.id,\n        movieName: movie.original_title,\n        searchWord: searchWord,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 40\n        }\n      });\n    }))), loading ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 28\n      }\n    }) : null, currentPage <= totalPage && !loading ? /*#__PURE__*/React.createElement(LoadMoreBtn, {\n      loadMoreMovies: this.loadMoreMovies,\n      text: \"Sayfa\",\n      currentPage: currentPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }) : null);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/rami/Desktop/ramirezmovie/React-Movie-App/src/components/Home/Home.js"],"names":["React","Component","BASE_URL","API_KEY","BASE_IMG","ImageFrame","Spinner","LoadMoreBtn","SearchBar","Row","Col","Container","no_img","PageTitle","Home","state","movies","currentPage","totalPage","loading","searchWord","searchMovies","endPoint","setState","getRequest","loadMoreMovies","fetch","then","response","json","data","results","page","total_pages","componentDidMount","render","map","movie","id","poster_path","original_title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BASE_URL, API_KEY, BASE_IMG } from '../../config'\nimport ImageFrame from '../elements/ImageFrame/ImageFrame';\nimport Spinner from '../elements/Spinner/Spinner';\nimport LoadMoreBtn from '../elements/LoadMore/LoadMoreBtn'\nimport SearchBar from '../elements/SearchBar/SearchBar';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport no_img from '../elements/img/no_image.jpg';\nimport PageTitle from '../elements/PageTitle/PageTitle';\n\nclass Home extends Component {\n\n    state = {\n        movies: [],\n        currentPage: 0,\n        totalPage: 0,\n        loading: false, // Loading Effect\n        searchWord: \"\",\n    }\n\n    componentDidMount() {\n        const endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=1`;\n        this.getRequest(endPoint);\n\n        this.setState({\n            loading: true\n        })\n    };\n\n    searchMovies = searchWord => { // This function trigger the Get Request Function\n\n        let endPoint = \"\";\n        this.setState({\n            movies: [],\n            searchWord,\n            loading: true\n        });\n\n        if (this.state.searchWord === \"\") {\n            endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=1`;\n        }\n        else {\n            endPoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${this.state.searchWord}`\n        }\n\n        this.getRequest(endPoint)\n    }\n\n    loadMoreMovies = () => {\n        let endPoint = \"\";\n        this.setState({\n            loading: true\n        });\n\n        if (this.state.searchWord === \"\") {\n            endPoint = `${BASE_URL}/movie/popular?api_key=${API_KEY}&page=${this.state.currentPage + 1}`;\n        }\n        else {\n            endPoint = `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${this.state.searchWord}&page=${this.state.currentPage + 1}`\n        }\n\n        this.getRequest(endPoint)\n    }\n\n    getRequest = (endPoint) => {\n        fetch(endPoint)\n            .then(response => response.json())\n            .then(data => {\n                // console.log(data);\n\n                this.setState({\n                    movies: [...this.state.movies, ...data.results],\n                    currentPage: data.page,\n                    totalPage: data.total_pages,\n                    loading: false\n                })\n            })\n    };\n\n    render() {\n        const { searchWord, movies, loading, currentPage, totalPage } = this.state\n\n        return (\n            <>\n                <SearchBar \n                callback={this.searchMovies} \n                placeHolder = \"Lütfen Aradığınız Filmin Adını Yazınız..\"\n                />\n                <Container>\n                    <Row>\n                        <Col sm = {6} className = \"offset-sm-3 text-center\">\n                            {searchWord ? <h2 >{searchWord} için bulunan sonuçlar </h2> : <PageTitle  title = \"popüler filmler\"/> }\n                        </Col>\n                    </Row>\n                    <Row>\n                        {\n                            movies.map((movie) => {\n                                return <ImageFrame\n                                    key={movie.id}\n                                    image={movie.poster_path ? `${BASE_IMG}${movie.poster_path}` : `${no_img}`}\n                                    clickable={true}\n                                    movieId={movie.id}\n                                    movieName={movie.original_title}\n                                    searchWord = {searchWord}\n                                />\n                            })\n                        }\n                    </Row>\n                </Container>\n                {loading ? <Spinner /> : null}\n                {(currentPage <= totalPage && !loading ) ?\n                    <LoadMoreBtn loadMoreMovies={this.loadMoreMovies} text=\"Sayfa\" currentPage={currentPage} /> : null\n                }\n            </>\n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}