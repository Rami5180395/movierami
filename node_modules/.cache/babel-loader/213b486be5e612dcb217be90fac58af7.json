{"ast":null,"code":"var _jsxFileName = \"/home/rami/Desktop/ramirezmovie/React-Movie-App/src/components/PersonInfo/PersonInfo.js\";\nimport React, { Component } from 'react';\nimport { BASE_URL, API_KEY, BASE_IMG } from '../../config';\nimport Spinner from '../elements/Spinner/Spinner';\nimport ImageFrame from '../elements/ImageFrame/ImageFrame';\nimport no_img from '../elements/img/no_image.jpg';\nimport { Row, Container, Col } from 'react-bootstrap';\nimport BreadCrumb from '../elements/BreadCrumb/BreadCrumbs';\nimport PersonInfoBar from '../elements/PersonInfoBar/PersonInfoBar';\nimport './PersonInfo.css';\nimport LoadMoreBtn from '../elements/LoadMore/LoadMoreBtn';\nimport PageTitle from '../elements/PageTitle/PageTitle';\n\nclass PersonInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      personMovies: [],\n      personDetails: {},\n      loadingPersonMovies: false,\n      loadingPersonDetails: false,\n      visible: 8,\n      loadingMoreMovies: false\n    };\n\n    this.getMovieAndPersonDetails = endPoint => {\n      fetch(endPoint).then(response => response.json()).then(personMovies => {\n        if (personMovies.cast) {\n          this.setState({\n            personMovies: personMovies.cast,\n            loadingPersonMovies: false\n          }, () => {\n            //CallBack Function with get personal details\n            let endPoint = `${BASE_URL}/person/${this.props.match.params.personId}?api_key=${API_KEY}`;\n            fetch(endPoint).then(response => response.json()).then(personDetails => {\n              this.setState({\n                personDetails,\n                loadingPersonDetails: false\n              });\n            });\n          });\n        } else {\n          this.setState({\n            loadingPersonDetails: false\n          });\n          console.log(\"Bad Request\");\n        }\n      });\n    };\n\n    this.loadMoreMovies = () => {\n      this.setState({\n        visible: this.state.visible + 4\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ ...this.state,\n      loadingPersonMovies: true,\n      loadingPersonDetails: true\n    });\n    let endPoint = `${BASE_URL}/person/${this.props.match.params.personId}/movie_credits?api_key=${API_KEY}`;\n    this.getMovieAndPersonDetails(endPoint);\n  }\n\n  render() {\n    const {\n      personMovies,\n      personDetails,\n      loadingPersonMovies,\n      loadingPersonDetails,\n      visible\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BreadCrumb, {\n      title: this.props.location.actorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }), loadingPersonMovies || loadingPersonDetails ? /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 55\n      }\n    }) : personMovies.length && personDetails ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n      fluid: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"no-gutters person-info-container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      className: \"offset-sm-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(PersonInfoBar, {\n      info: personDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    })))), /*#__PURE__*/React.createElement(Container, {\n      className: \"animated fadeIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PageTitle, {\n      title: \"rol ald\\u0131\\u011F\\u0131 filmler\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, personMovies.slice(0, visible).map(movie => {\n      return /*#__PURE__*/React.createElement(ImageFrame, {\n        key: movie.id,\n        image: movie.poster_path ? `${BASE_IMG}${movie.poster_path}` : `${no_img}`,\n        personMovieId: movie.id,\n        clickable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 32\n        }\n      });\n    })), visible < personMovies.length ? /*#__PURE__*/React.createElement(LoadMoreBtn, {\n      loadMoreMovies: this.loadMoreMovies,\n      text: personMovies.length - visible + \" Film Daha Göster\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 23\n      }\n    }) : null)) : null);\n  }\n\n}\n\nexport default PersonInfo;","map":{"version":3,"sources":["/home/rami/Desktop/ramirezmovie/React-Movie-App/src/components/PersonInfo/PersonInfo.js"],"names":["React","Component","BASE_URL","API_KEY","BASE_IMG","Spinner","ImageFrame","no_img","Row","Container","Col","BreadCrumb","PersonInfoBar","LoadMoreBtn","PageTitle","PersonInfo","state","personMovies","personDetails","loadingPersonMovies","loadingPersonDetails","visible","loadingMoreMovies","getMovieAndPersonDetails","endPoint","fetch","then","response","json","cast","setState","props","match","params","personId","console","log","loadMoreMovies","componentDidMount","render","location","actorName","length","slice","map","movie","id","poster_path"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,QAA5B,QAA4C,cAA5C;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,QAAoC,iBAApC;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAOC,aAAP,MAA0B,yCAA1B;AACA,OAAO,kBAAP;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;;AAEA,MAAMC,UAAN,SAAyBd,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAEjCe,KAFiC,GAEzB;AACNC,MAAAA,YAAY,EAAE,EADR;AAENC,MAAAA,aAAa,EAAE,EAFT;AAGNC,MAAAA,mBAAmB,EAAE,KAHf;AAINC,MAAAA,oBAAoB,EAAE,KAJhB;AAKNC,MAAAA,OAAO,EAAE,CALH;AAMNC,MAAAA,iBAAiB,EAAG;AANd,KAFyB;;AAAA,SAsBjCC,wBAtBiC,GAsBNC,QAAQ,IAAI;AACrCC,MAAAA,KAAK,CAACD,QAAD,CAAL,CACGE,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEST,YAAD,IAAkB;AACtB,YAAIA,YAAY,CAACY,IAAjB,EAAuB;AACrB,eAAKC,QAAL,CAAc;AACZb,YAAAA,YAAY,EAAEA,YAAY,CAACY,IADf;AAEZV,YAAAA,mBAAmB,EAAE;AAFT,WAAd,EAGG,MAAM;AAAE;AACT,gBAAIK,QAAQ,GAAI,GAAEtB,QAAS,WAAU,KAAK6B,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,QAAS,YAAW/B,OAAQ,EAAzF;AACAsB,YAAAA,KAAK,CAACD,QAAD,CAAL,CACGE,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAESR,aAAa,IAAI;AACtB,mBAAKY,QAAL,CAAc;AACZZ,gBAAAA,aADY;AAEZE,gBAAAA,oBAAoB,EAAE;AAFV,eAAd;AAID,aAPH;AAQD,WAbD;AAcD,SAfD,MAgBK;AACH,eAAKU,QAAL,CAAc;AACZV,YAAAA,oBAAoB,EAAG;AADX,WAAd;AAGAe,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AAEF,OA1BH;AA2BD,KAlDgC;;AAAA,SAoD/BC,cApD+B,GAoDd,MAAM;AACnB,WAAKP,QAAL,CAAc;AACVT,QAAAA,OAAO,EAAG,KAAKL,KAAL,CAAWK,OAAX,GAAqB;AADrB,OAAd;AAGH,KAxD8B;AAAA;;AAWjCiB,EAAAA,iBAAiB,GAAG;AAClB,SAAKR,QAAL,CAAc,EACZ,GAAG,KAAKd,KADI;AAEZG,MAAAA,mBAAmB,EAAE,IAFT;AAGZC,MAAAA,oBAAoB,EAAE;AAHV,KAAd;AAMA,QAAII,QAAQ,GAAI,GAAEtB,QAAS,WAAU,KAAK6B,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,QAAS,0BAAyB/B,OAAQ,EAAvG;AACA,SAAKoB,wBAAL,CAA8BC,QAA9B;AACD;;AAsCHe,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEtB,MAAAA,YAAF;AAAgBC,MAAAA,aAAhB;AAA+BC,MAAAA,mBAA/B;AAAoDC,MAAAA,oBAApD;AAA0EC,MAAAA;AAA1E,QAAsF,KAAKL,KAAjG;AACA,wBACE,uDACE,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE,KAAKe,KAAL,CAAWS,QAAX,CAAoBC,SAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAKItB,mBAAmB,IAAIC,oBAAvB,gBAA8C,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA9C,GAEIH,YAAY,CAACyB,MAAb,IAAuBxB,aAAvB,gBACE,uDACI,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,SAAS,EAAC,aAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AACE,MAAA,IAAI,EAAEA,aADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADF,CADJ,eAUE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAG,mCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEID,YAAY,CAAC0B,KAAb,CAAmB,CAAnB,EAAsBtB,OAAtB,EAA+BuB,GAA/B,CAAoCC,KAAD,IAAW;AAC5C,0BAAO,oBAAC,UAAD;AACL,QAAA,GAAG,EAAEA,KAAK,CAACC,EADN;AAEL,QAAA,KAAK,EAAED,KAAK,CAACE,WAAN,GAAqB,GAAE3C,QAAS,GAAEyC,KAAK,CAACE,WAAY,EAApD,GAAyD,GAAExC,MAAO,EAFpE;AAGL,QAAA,aAAa,EAAEsC,KAAK,CAACC,EAHhB;AAIL,QAAA,SAAS,EAAE,KAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAMD,KAPD,CAFJ,CAFF,EAgBIzB,OAAO,GAAGJ,YAAY,CAACyB,MAAvB,gBACE,oBAAC,WAAD;AACE,MAAA,cAAc,EAAE,KAAKL,cADvB;AAEE,MAAA,IAAI,EAAEpB,YAAY,CAACyB,MAAb,GAAsBrB,OAAtB,GAAgC,mBAFxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,GAIO,IApBX,CAVF,CADF,GAoCE,IA3CV,CADF;AAiDD;;AA7GkC;;AAiHnC,eAAeN,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport { BASE_URL, API_KEY, BASE_IMG } from '../../config';\nimport Spinner from '../elements/Spinner/Spinner';\nimport ImageFrame from '../elements/ImageFrame/ImageFrame';\nimport no_img from '../elements/img/no_image.jpg';\nimport { Row, Container, Col } from 'react-bootstrap';\nimport BreadCrumb from '../elements/BreadCrumb/BreadCrumbs';\nimport PersonInfoBar from '../elements/PersonInfoBar/PersonInfoBar';\nimport './PersonInfo.css';\nimport LoadMoreBtn from '../elements/LoadMore/LoadMoreBtn';\nimport PageTitle from '../elements/PageTitle/PageTitle';\n\nclass PersonInfo extends Component { //  depending on the person id, I do request operations in this Class !\n\n  state = {\n    personMovies: [],\n    personDetails: {},\n    loadingPersonMovies: false,\n    loadingPersonDetails: false,\n    visible: 8,\n    loadingMoreMovies : false\n  }\n\n  componentDidMount() {\n    this.setState({\n      ...this.state,\n      loadingPersonMovies: true,\n      loadingPersonDetails: true\n    });\n\n    let endPoint = `${BASE_URL}/person/${this.props.match.params.personId}/movie_credits?api_key=${API_KEY}`\n    this.getMovieAndPersonDetails(endPoint)\n  }\n\n  getMovieAndPersonDetails = endPoint => {\n    fetch(endPoint)\n      .then(response => response.json())\n      .then((personMovies) => {\n        if (personMovies.cast) {\n          this.setState({\n            personMovies: personMovies.cast,\n            loadingPersonMovies: false\n          }, () => { //CallBack Function with get personal details\n            let endPoint = `${BASE_URL}/person/${this.props.match.params.personId}?api_key=${API_KEY}`\n            fetch(endPoint)\n              .then(response => response.json())\n              .then((personDetails => {\n                this.setState({\n                  personDetails,\n                  loadingPersonDetails: false\n                })\n              }))\n          })\n        }\n        else {\n          this.setState({\n            loadingPersonDetails : false\n          })\n          console.log(\"Bad Request\")\n        }\n\n      })\n  }\n\n    loadMoreMovies = () => {\n        this.setState({\n            visible : this.state.visible + 4,\n        })\n    }\n\nrender() {\n  const { personMovies, personDetails, loadingPersonMovies, loadingPersonDetails, visible } = this.state;\n  return (\n    <>\n      <BreadCrumb\n        title={this.props.location.actorName}\n      />\n      {\n        loadingPersonMovies || loadingPersonDetails ? <Spinner /> :\n          (\n            personMovies.length && personDetails ?\n              <>\n                  <Container fluid=\"xs\">\n                    <Row className=\"no-gutters person-info-container \">\n                      <Col sm={10} className=\"offset-sm-1\" >\n                        <PersonInfoBar\n                          info={personDetails}\n                        />\n                      </Col>\n                    </Row>\n                  </Container>  \n                <Container className=\"animated fadeIn\">\n                  <PageTitle title = \"rol aldığı filmler\" />\n                  <Row>\n                    {\n                      personMovies.slice(0, visible).map((movie) => {\n                        return <ImageFrame\n                          key={movie.id}\n                          image={movie.poster_path ? `${BASE_IMG}${movie.poster_path}` : `${no_img}`}\n                          personMovieId={movie.id}\n                          clickable={false}\n                        />\n                      })\n                    }\n                  </Row>\n\n                { \n                    visible < personMovies.length ?\n                      <LoadMoreBtn\n                        loadMoreMovies={this.loadMoreMovies}\n                        text={personMovies.length - visible + \" Film Daha Göster\"}\n                      /> : null                 \n                }\n                </Container>\n              </>\n              :\n              null\n          )\n      }\n    </>\n  )\n}\n}\n\n\nexport default PersonInfo;\n"]},"metadata":{},"sourceType":"module"}